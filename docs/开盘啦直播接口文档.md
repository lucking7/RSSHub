# 开盘啦直播接口文档

## 📡 接口概览

这些是开盘啦 App 的实时直播接口，用于获取盘中实时资讯、市场情绪和涨停表现等数据。

---

## 1. 直播内容 / 实时快讯 (ZhiBoContent) 📢

**这是开盘啦的核心快讯接口，实时推送市场动态和重要资讯！**

### 基本信息

```
GET https://apphq.longhuvip.com/w1/api/index.php
参数:
  a=ZhiBoContent
  apiv=w21
  c=ConceptionPoint
  PhoneOSNew=1
```

**更新频率**: 实时更新，盘中每几分钟就会有新的快讯推送

### 返回数据结构

```json
{
  "JHJJYD": ["", "", 0],
  "List": [
    {
      "ID": "84330",
      "UID": "204",
      "Time": 1761023820, // Unix时间戳
      "Comment": "芯片闻泰科技首板涨停（该内容由AI大模型根据行情自动生成）",
      "Type": "0",
      "PlateCode": "",
      "PlateName": "",
      "PlateJE": "",
      "PlateZDF": "",
      "ThemeInfo": [],
      "Interpretation": "",
      "IsChart": "0",
      "ShareData": {},
      "UserName": "xmm",
      "Image": "",
      "Stock": [
        ["600745", "闻泰科技", 10] // [代码, 名称, 涨幅]
      ],
      "DisStock": [["600745", "闻泰科技"]],
      "ThemeClassInfo": [],
      "styleIndex": [],
      "BoomReason": ""
    }
  ]
}
```

### 字段说明

| 字段      | 类型   | 说明                          |
| --------- | ------ | ----------------------------- |
| ID        | String | 直播消息 ID                   |
| UID       | String | 用户 ID                       |
| Time      | Number | 发布时间（Unix 时间戳）       |
| Comment   | String | 直播内容文本                  |
| Type      | String | 消息类型                      |
| PlateCode | String | 板块代码                      |
| PlateName | String | 板块名称                      |
| PlateJE   | String | 板块金额                      |
| PlateZDF  | String | 板块涨跌幅                    |
| UserName  | String | 发布者用户名                  |
| Image     | String | 图片 URL                      |
| Stock     | Array  | 相关股票 [[代码, 名称, 涨幅]] |
| DisStock  | Array  | 显示股票 [[代码, 名称]]       |

### 使用示例

#### 基础调用

```bash
# 获取实时快讯
curl "https://apphq.longhuvip.com/w1/api/index.php?a=ZhiBoContent&apiv=w21&c=ConceptionPoint&PhoneOSNew=1"
```

#### Python 示例 - 基础版

```python
import requests
import json
from datetime import datetime

url = "https://apphq.longhuvip.com/w1/api/index.php"
params = {
    "a": "ZhiBoContent",
    "apiv": "w21",
    "c": "ConceptionPoint",
    "PhoneOSNew": "1"
}

response = requests.get(url, params=params)
data = response.json()

# 解析快讯内容
for item in data['List']:
    time_str = datetime.fromtimestamp(item['Time']).strftime('%H:%M:%S')
    comment = item['Comment']
    user = item.get('UserName', '系统')
    stocks = item.get('Stock', [])
    
    print(f"[{time_str}] 来源: {user}")
    print(f"内容: {comment}")
    
    if stocks:
        print("相关个股:", end=" ")
        for stock in stocks:
            print(f"{stock[1]}({stock[0]}) {stock[2]}%", end=" ")
        print()
    print("-" * 80)
```

#### Python 示例 - 快讯监控版

```python
import requests
import time
from datetime import datetime

class NewsMonitor:
    def __init__(self):
        self.url = "https://apphq.longhuvip.com/w1/api/index.php"
        self.params = {
            "a": "ZhiBoContent",
            "apiv": "w21",
            "c": "ConceptionPoint",
            "PhoneOSNew": "1"
        }
        self.last_id = None
    
    def get_news(self):
        """获取最新快讯"""
        response = requests.get(self.url, params=self.params)
        return response.json()
    
    def monitor(self, interval=60):
        """持续监控快讯"""
        print("🔔 开始监控实时快讯...")
        
        while True:
            try:
                data = self.get_news()
                news_list = data.get('List', [])
                
                if news_list:
                    latest = news_list[0]  # 第一条是最新的
                    
                    # 检查是否是新消息
                    if self.last_id != latest['ID']:
                        self.last_id = latest['ID']
                        
                        # 打印新快讯
                        time_str = datetime.fromtimestamp(latest['Time']).strftime('%H:%M:%S')
                        print(f"\n📢 [{time_str}] 新快讯")
                        print(f"来源: {latest.get('UserName', '系统')}")
                        print(f"内容: {latest['Comment']}")
                        
                        if latest.get('Stock'):
                            print("相关个股:", end=" ")
                            for stock in latest['Stock'][:5]:
                                print(f"{stock[1]}({stock[0]}) {stock[2]}%", end=" ")
                            print()
                
                time.sleep(interval)
                
            except Exception as e:
                print(f"❌ 错误: {e}")
                time.sleep(5)

# 使用示例
monitor = NewsMonitor()
# monitor.monitor(interval=30)  # 每30秒检查一次
```

---

## 2. 盘面点评 (DiskReview)

### 基本信息

```
GET https://apphq.longhuvip.com/w1/api/index.php
参数:
  a=DiskReview
  apiv=w21
  c=HomeDingPan
  PhoneOSNew=1
```

### 返回数据结构

```json
{
  "info": {
    "strong": "69",
    "sign": "短期大盘趋势偏强，增量资金入场较明显，市场赚钱效应偏强"
  },
  "ttag": 0.000368,
  "errcode": "0"
}
```

### 字段说明

| 字段   | 类型   | 说明                  |
| ------ | ------ | --------------------- |
| strong | String | 综合强度评分（0-100） |
| sign   | String | 盘面点评文字描述      |

### 使用示例

```bash
# 获取盘面点评
curl "https://apphq.longhuvip.com/w1/api/index.php?a=DiskReview&apiv=w21&c=HomeDingPan&PhoneOSNew=1"
```

```python
# 获取市场强度
response = requests.get(url, params={
    "a": "DiskReview",
    "apiv": "w21",
    "c": "HomeDingPan",
    "PhoneOSNew": "1"
})
data = response.json()

strong = data['info']['strong']
sign = data['info']['sign']
print(f"综合强度: {strong}")
print(f"盘面点评: {sign}")
```

---

## 3. 涨跌幅详情 (ZhangFuDetail)

### 基本信息

```
GET https://apphq.longhuvip.com/w1/api/index.php
参数:
  a=ZhangFuDetail
  apiv=w21
  c=HomeDingPan
  PhoneOSNew=1
```

### 返回数据结构

```json
{
  "date": "2025-10-21",
  "time": 1761024641,
  "info": {
    "-1": "522", // 跌幅 1-2%
    "-2": "203", // 跌幅 2-3%
    "-3": "69", // 跌幅 3-4%
    "-4": "34", // 跌幅 4-5%
    "-5": "18", // 跌幅 5-6%
    "-6": "12", // 跌幅 6-7%
    "-7": "5", // 跌幅 7-8%
    "-8": "3", // 跌幅 8-9%
    "-9": "0", // 跌幅 9-10%
    "-10": "0", // 跌停
    "0": "100", // 平盘
    "1": "1406", // 涨幅 1-2%
    "2": "1490", // 涨幅 2-3%
    "3": "616", // 涨幅 3-4%
    "4": "291", // 涨幅 4-5%
    "5": "129", // 涨幅 5-6%
    "6": "65", // 涨幅 6-7%
    "7": "45", // 涨幅 7-8%
    "8": "25", // 涨幅 8-9%
    "9": "12", // 涨幅 9-10%
    "10": "27", // 涨停
    "DT": 3, // 跌停数
    "SJDT": "2", // 实际跌停
    "SJZT": "66", // 实际涨停
    "STDT": "1", // ST跌停
    "STZT": "10", // ST涨停
    "SZJS": 4182, // 上涨家数
    "XDJS": 869, // 下跌家数
    "ZSZDFB": "1771,401,44,390,97,13,239,44,9,45,5,0,37,13,0,203,89,8,",
    "ZT": 76, // 涨停总数
    "sign": "市场人气高涨",
    "szln": 59735048, // 沪市成交量
    "qscln": 134773159, // 全市场成交量
    "s_zrcs": 57915636, // 沪市昨日成交
    "q_zrcs": 130700802, // 全市场昨日成交
    "s_zrtj": 77250321, // 沪市昨日统计
    "q_zrtj": 173760520 // 全市场昨日统计
  },
  "ttag": 0.001514,
  "errcode": "0"
}
```

### 字段说明

#### 涨跌幅分布字段

- `"-10"` ~ `"-1"`: 跌幅各区间股票数量
- `"0"`: 平盘股票数量
- `"1"` ~ `"10"`: 涨幅各区间股票数量

#### 统计字段

| 字段 | 说明                 |
| ---- | -------------------- |
| SJZT | 实际涨停数（封板的） |
| SJDT | 实际跌停数（封板的） |
| ZT   | 涨停总数（包括炸板） |
| DT   | 跌停总数             |
| STZT | ST 涨停数            |
| STDT | ST 跌停数            |
| SZJS | 上涨家数             |
| XDJS | 下跌家数             |

#### 成交量字段

| 字段   | 说明                 |
| ------ | -------------------- |
| qscln  | 全市场成交量（万元） |
| szln   | 沪市成交量（万元）   |
| q_zrcs | 全市场昨日成交       |
| s_zrcs | 沪市昨日成交         |

### 使用示例

```python
# 获取涨跌幅详情
response = requests.get(url, params={
    "a": "ZhangFuDetail",
    "apiv": "w21",
    "c": "HomeDingPan",
    "PhoneOSNew": "1"
})
data = response.json()

info = data['info']

# 计算涨跌比
up_count = info['SZJS']
down_count = info['XDJS']
total = up_count + down_count + int(info['0'])

print(f"上涨: {up_count} ({up_count/total*100:.2f}%)")
print(f"下跌: {down_count} ({down_count/total*100:.2f}%)")
print(f"平盘: {info['0']}")

# 成交量统计
qscln = int(info['qscln']) / 10000  # 转换为亿
q_zrcs = int(info['q_zrcs']) / 10000
change = (qscln - q_zrcs) / q_zrcs * 100

print(f"成交量: {qscln:.0f}亿 (较昨日{change:+.2f}%)")

# 涨停统计
print(f"涨停: {info['SJZT']}家 (炸板{int(info['ZT'])-int(info['SJZT'])}家)")
print(f"跌停: {info['SJDT']}家")
```

---

## 4. 涨停表现 (ZhangTingExpression)

### 基本信息

```
GET https://apphq.longhuvip.com/w1/api/index.php
参数:
  a=ZhangTingExpression
  apiv=w21
  c=HomeDingPan
  PhoneOSNew=1
```

### 返回数据结构

```json
{
  "info": [
    54, // [0] 一板数量
    10, // [1] 二板数量
    1, // [2] 三板数量
    1, // [3] 更高板数量
    15.1515, // [4] 一板封板率 (%)
    20, // [5] 二板封板率 (%)
    20, // [6] 三板封板率 (%)
    15.3846, // [7] 更高板封板率 (%)
    1.745, // [8] 一板平均封单 (万手)
    0.874, // [9] 二板平均封单 (万手)
    2.209, // [10] 三板平均封单 (万手)
    "题材存在炒作机会" // [11] 涨停股表现评语
  ],
  "ttag": 0.000405,
  "errcode": "0"
}
```

### 字段说明（按数组索引）

| 索引 | 说明                     |
| ---- | ------------------------ |
| 0    | 一板数量                 |
| 1    | 二板数量                 |
| 2    | 三板数量                 |
| 3    | 更高板（4 板及以上）数量 |
| 4    | 一板封板率 (%)           |
| 5    | 二板封板率 (%)           |
| 6    | 三板封板率 (%)           |
| 7    | 更高板封板率 (%)         |
| 8    | 一板平均封单（万手）     |
| 9    | 二板平均封单（万手）     |
| 10   | 三板平均封单（万手）     |
| 11   | 涨停股表现评语           |

### 使用示例

```python
# 获取涨停表现
response = requests.get(url, params={
    "a": "ZhangTingExpression",
    "apiv": "w21",
    "c": "HomeDingPan",
    "PhoneOSNew": "1"
})
data = response.json()

info = data['info']

# 解析数据
print(f"涨停股表现: {info[11]}")
print(f"\n连板分布:")
print(f"  一板: {info[0]}家 (封板率{info[4]:.2f}%, 平均封单{info[8]:.2f}万手)")
print(f"  二板: {info[1]}家 (封板率{info[5]:.2f}%, 平均封单{info[9]:.2f}万手)")
print(f"  三板: {info[2]}家 (封板率{info[6]:.2f}%, 平均封单{info[10]:.2f}万手)")
print(f"  高板: {info[3]}家 (封板率{info[7]:.2f}%)")

# 判断市场情绪
total_zt = sum(info[:4])
high_board_ratio = info[3] / total_zt * 100 if total_zt > 0 else 0
avg_seal_rate = (info[4] + info[5] + info[6] + info[7]) / 4

if avg_seal_rate > 80 and high_board_ratio > 5:
    print("\n市场情绪: 🔥 极强")
elif avg_seal_rate > 60:
    print("\n市场情绪: 💪 偏强")
elif avg_seal_rate > 40:
    print("\n市场情绪: 😐 中性")
else:
    print("\n市场情绪: 😟 偏弱")
```

---

## 5. 综合应用示例

### 5.1 实时监控脚本

```python
import requests
import time
from datetime import datetime

class KaiPanLaLive:
    def __init__(self):
        self.base_url = "https://apphq.longhuvip.com/w1/api/index.php"
        self.common_params = {
            "apiv": "w21",
            "PhoneOSNew": "1"
        }

    def get_live_content(self):
        """获取直播内容"""
        params = {**self.common_params, "a": "ZhiBoContent", "c": "ConceptionPoint"}
        response = requests.get(self.base_url, params=params)
        return response.json()

    def get_disk_review(self):
        """获取盘面点评"""
        params = {**self.common_params, "a": "DiskReview", "c": "HomeDingPan"}
        response = requests.get(self.base_url, params=params)
        return response.json()

    def get_market_detail(self):
        """获取涨跌幅详情"""
        params = {**self.common_params, "a": "ZhangFuDetail", "c": "HomeDingPan"}
        response = requests.get(self.base_url, params=params)
        return response.json()

    def get_zt_expression(self):
        """获取涨停表现"""
        params = {**self.common_params, "a": "ZhangTingExpression", "c": "HomeDingPan"}
        response = requests.get(self.base_url, params=params)
        return response.json()

    def monitor(self, interval=60):
        """持续监控"""
        print("开始监控...")
        while True:
            try:
                # 获取市场概况
                market = self.get_market_detail()
                info = market['info']

                # 获取涨停表现
                zt_expr = self.get_zt_expression()
                zt_info = zt_expr['info']

                # 获取盘面点评
                review = self.get_disk_review()

                # 打印摘要
                now = datetime.now().strftime("%H:%M:%S")
                print(f"\n{'='*60}")
                print(f"[{now}] 市场概况")
                print(f"{'='*60}")

                # 成交量
                qscln = int(info['qscln']) / 10000
                print(f"成交量: {qscln:.0f}亿")

                # 涨跌统计
                print(f"涨停: {info['SJZT']}家 | 跌停: {info['SJDT']}家")
                print(f"上涨: {info['SZJS']}家 | 下跌: {info['XDJS']}家")

                # 连板分布
                print(f"连板: 1板{zt_info[0]}家 2板{zt_info[1]}家 3板{zt_info[2]}家 高板{zt_info[3]}家")

                # 综合强度
                print(f"综合强度: {review['info']['strong']}")
                print(f"盘面点评: {review['info']['sign']}")
                print(f"涨停表现: {zt_info[11]}")

                # 等待
                time.sleep(interval)

            except Exception as e:
                print(f"错误: {e}")
                time.sleep(5)

# 使用示例
if __name__ == "__main__":
    monitor = KaiPanLaLive()

    # 获取单次数据
    live = monitor.get_live_content()
    print("最新直播:", live['List'][0]['Comment'] if live['List'] else "暂无")

    # 持续监控（每60秒更新）
    # monitor.monitor(interval=60)
```

### 5.2 市场情绪分析

```python
def analyze_market_sentiment(kpl):
    """分析市场情绪"""
    # 获取数据
    market = kpl.get_market_detail()
    zt_expr = kpl.get_zt_expression()
    review = kpl.get_disk_review()

    info = market['info']
    zt_info = zt_expr['info']

    # 计算指标
    up_ratio = int(info['SZJS']) / (int(info['SZJS']) + int(info['XDJS'])) * 100
    zt_count = int(info['SJZT'])
    avg_seal_rate = (zt_info[4] + zt_info[5] + zt_info[6] + zt_info[7]) / 4
    high_board_count = zt_info[3]
    strong_score = int(review['info']['strong'])

    # 综合评分
    sentiment_score = (
        up_ratio * 0.3 +           # 上涨比例
        min(zt_count / 100, 1) * 100 * 0.25 +  # 涨停数量
        avg_seal_rate * 0.25 +     # 封板率
        min(high_board_count / 10, 1) * 100 * 0.1 +  # 高板数量
        strong_score * 0.1         # 综合强度
    )

    # 判断情绪
    if sentiment_score >= 80:
        emotion = "🔥 极强"
        suggestion = "可积极参与，关注高板股"
    elif sentiment_score >= 60:
        emotion = "💪 偏强"
        suggestion = "可适度参与，优选题材龙头"
    elif sentiment_score >= 40:
        emotion = "😐 中性"
        suggestion = "谨慎参与，控制仓位"
    else:
        emotion = "😟 偏弱"
        suggestion = "观望为主，不宜追高"

    return {
        "score": sentiment_score,
        "emotion": emotion,
        "suggestion": suggestion,
        "up_ratio": up_ratio,
        "zt_count": zt_count,
        "avg_seal_rate": avg_seal_rate,
        "high_board_count": high_board_count
    }

# 使用
result = analyze_market_sentiment(monitor)
print(f"情绪评分: {result['score']:.1f}")
print(f"市场情绪: {result['emotion']}")
print(f"操作建议: {result['suggestion']}")
```

---

## 6. 与其他 API 的对比

### 与之前整理的开盘啦 API 对比

| 接口           | 本文档（直播类）    | 之前文档（数据类） |
| -------------- | ------------------- | ------------------ |
| **数据实时性** | ⚡ 极高（秒级更新） | 📊 较高（分钟级）  |
| **数据详细度** | 📝 摘要信息         | 📋 详细列表        |
| **适用场景**   | 监控面板、实时提醒  | 数据分析、选股     |

#### 直播类接口（本文档）

- ✅ ZhiBoContent - 实时直播
- ✅ DiskReview - 盘面点评
- ✅ ZhangFuDetail - 涨跌幅详情
- ✅ ZhangTingExpression - 涨停表现

#### 数据类接口（之前文档）

- ✅ DaBanList - 涨停/炸板详细列表
- ✅ MarketCapacity - 成交量历史趋势
- ✅ RefreshStockList - 指数详细数据

### 推荐使用场景

**实时监控** → 使用直播类接口

- 快速了解市场概况
- 实时跟踪市场变化
- 构建监控大屏

**深度分析** → 使用数据类接口

- 涨停股详细信息
- 历史数据回测
- 选股策略开发

---

## 7. 注意事项

### 7.1 请求频率

- ⚠️ 建议间隔 ≥ 30 秒
- ⚠️ 交易时间外可降低频率
- ⚠️ 避免频繁请求导致 IP 被限

### 7.2 数据时效性

- ✅ 盘中数据实时更新
- ✅ 盘后数据保持当日收盘状态
- ✅ 非交易日返回上一交易日数据

### 7.3 时间转换

```python
# Unix时间戳转换
from datetime import datetime

def timestamp_to_time(ts):
    return datetime.fromtimestamp(ts).strftime('%H:%M:%S')

# 示例
time_str = timestamp_to_time(1761023820)  # "14:30:20"
```

### 7.4 数据单位

- 成交量: 万元
- 封单: 万手
- 涨跌幅: %

---

## 8. HTML 页面集成

根据提供的 HTML 代码，关键集成点：

### 8.1 定时刷新逻辑

```javascript
// 交易时间内每分钟刷新
function time_range(beginTime, endTime) {
  var b = new Date();
  var e = new Date();
  var n = new Date();

  b.setHours(beginTime.split(':')[0]);
  b.setMinutes(beginTime.split(':')[1]);
  e.setHours(endTime.split(':')[0]);
  e.setMinutes(endTime.split(':')[1]);

  if (n.getTime() - b.getTime() > 0 && n.getTime() - e.getTime() < 0) {
    getSource(); // 在交易时间内刷新
    return true;
  }
  return false;
}

// 每60秒检查一次
setInterval(function () {
  time_range('9:00', '15:15');
}, 60000);
```

### 8.2 数据格式转换

```javascript
// 时间戳转时间
function getLocalTime(nS) {
  return new Date(parseInt(nS) * 1000).Format('hh:mm:ss');
}

// 处理Stock数组格式
data = data.replace(/(\"Stock\":\[\[).*?(?=\])/g, function (word) {
  str = word.match(/\"Stock\":\[\[(\S*)/)[1];
  return (
    '"Stock":[{"code":' +
    str.split(',')[0] +
    ',"name":' +
    str.split(',')[1] +
    ',"zf":' +
    str.split(',')[2]
  );
});
```

---

## 9. 完整调用示例

```python
#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
开盘啦直播接口完整示例
"""

import requests
import json
from datetime import datetime

class KaiPanLaLiveAPI:
    def __init__(self):
        self.base_url = "https://apphq.longhuvip.com/w1/api/index.php"
        self.headers = {
            'User-Agent': 'lhb/5.9.3 (com.kaipanla.www; build:0; iOS 15.4.0) Alamofire/5.9.3',
            'Accept': '*/*',
            'Accept-Language': 'zh-Hans-CN;q=1.0',
            'Accept-Encoding': 'gzip, deflate',
        }

    def _request(self, params):
        """统一请求方法"""
        try:
            response = requests.get(
                self.base_url,
                params=params,
                headers=self.headers,
                timeout=10
            )
            return response.json()
        except Exception as e:
            print(f"请求失败: {e}")
            return None

    def get_all_data(self):
        """一次性获取所有数据"""
        result = {}

        # 1. 直播内容
        live = self._request({
            "a": "ZhiBoContent",
            "apiv": "w21",
            "c": "ConceptionPoint",
            "PhoneOSNew": "1"
        })
        result['live'] = live

        # 2. 盘面点评
        review = self._request({
            "a": "DiskReview",
            "apiv": "w21",
            "c": "HomeDingPan",
            "PhoneOSNew": "1"
        })
        result['review'] = review

        # 3. 涨跌幅详情
        detail = self._request({
            "a": "ZhangFuDetail",
            "apiv": "w21",
            "c": "HomeDingPan",
            "PhoneOSNew": "1"
        })
        result['detail'] = detail

        # 4. 涨停表现
        expression = self._request({
            "a": "ZhangTingExpression",
            "apiv": "w21",
            "c": "HomeDingPan",
            "PhoneOSNew": "1"
        })
        result['expression'] = expression

        return result

    def format_output(self, data):
        """格式化输出"""
        if not data:
            return

        print("\n" + "="*80)
        print(f"📊 市场概况 - {datetime.now().strftime('%Y-%m-%d %H:%M:%S')}")
        print("="*80)

        # 盘面点评
        if data['review']:
            info = data['review']['info']
            print(f"\n💡 综合强度: {info['strong']}")
            print(f"📝 盘面点评: {info['sign']}")

        # 涨跌幅详情
        if data['detail']:
            info = data['detail']['info']
            qscln = int(info['qscln']) / 10000
            print(f"\n💰 成交量: {qscln:.0f}亿")
            print(f"📈 涨停: {info['SJZT']}家 | 📉 跌停: {info['SJDT']}家")
            print(f"🔼 上涨: {info['SZJS']}家 | 🔽 下跌: {info['XDJS']}家")
            print(f"📊 市场点评: {info['sign']}")

        # 涨停表现
        if data['expression']:
            info = data['expression']['info']
            print(f"\n🎯 涨停表现: {info[11]}")
            print(f"   一板: {info[0]}家 (封板率{info[4]:.1f}%)")
            print(f"   二板: {info[1]}家 (封板率{info[5]:.1f}%)")
            print(f"   三板: {info[2]}家 (封板率{info[6]:.1f}%)")
            print(f"   高板: {info[3]}家 (封板率{info[7]:.1f}%)")

        # 最新直播
        if data['live'] and data['live']['List']:
            print(f"\n📢 最新直播:")
            for item in data['live']['List'][:3]:  # 只显示最新3条
                time = datetime.fromtimestamp(item['Time']).strftime('%H:%M:%S')
                comment = item['Comment']
                print(f"   [{time}] {comment[:100]}...")

# 主函数
if __name__ == "__main__":
    api = KaiPanLaLiveAPI()

    # 获取数据
    data = api.get_all_data()

    # 格式化输出
    api.format_output(data)
```

---

## 10. 更新日志

### v1.0 (2025-10-21)

- ✅ 测试所有 4 个直播接口
- ✅ 完整文档化接口参数和返回值
- ✅ 提供 Python 和 JavaScript 示例
- ✅ 添加市场情绪分析示例

---

**文档版本**: 1.0  
**测试时间**: 2025-10-21  
**维护**: AI Assistant
