# é‡‘åæ•°æ®è·¯ç”±æ¥å£å¯¹æ¯”

## ä¸€ã€æ ¸å¿ƒåŒºåˆ«æ€»è§ˆ

| å¯¹æ¯”é¡¹ | æ™®é€šæ¥å£ (`/jin10`) | æ–°ç‰ˆæ¥å£ (`/jin10/newflash`) |
|--------|---------------------|------------------------------|
| **API æ¥æº** | å®˜æ–¹ API | ç½‘é¡µ JS æ–‡ä»¶ |
| **API URL** | `flash-api.jin10.com/get_flash_list` | `www.jin10.com/flash_newest.js` |
| **æ•°æ®æ ¼å¼** | æ ‡å‡† JSON | JavaScript å˜é‡èµ‹å€¼ |
| **å‚æ•°æ•°é‡** | 1 ä¸ª | 3 ä¸ª |
| **åˆ†ç±»æ”¯æŒ** | âŒ ä¸æ”¯æŒ | âœ… æ”¯æŒ 5 ç§é¢‘é“ |
| **ç±»å‹ç­›é€‰** | âŒ ä¸æ”¯æŒ | âœ… æ”¯æŒå¿«è®¯/æ·±åº¦æ–‡ç«  |
| **å­—æ®µåˆ©ç”¨åº¦** | åŸºç¡€ | å®Œæ•´ |
| **æ¨¡æ¿åŠŸèƒ½** | ç®€å• | å¢å¼º |

---

## äºŒã€è¯¦ç»†å¯¹æ¯”

### 1ï¸âƒ£ API æ¥æºå’Œè®¤è¯

#### æ™®é€šæ¥å£
```typescript
API: https://flash-api.jin10.com/get_flash_list
è®¤è¯: éœ€è¦ headers
  - x-app-id: bVBF4FyRTn5NJF5n
  - x-version: 1.0.0
å‚æ•°:
  - channel: -8200
  - vip: 1
è¿”å›: æ ‡å‡† JSON æ ¼å¼
```

#### æ–°ç‰ˆæ¥å£
```typescript
API: https://www.jin10.com/flash_newest.js
è®¤è¯: åªéœ€ Referer
  - Referer: https://www.jin10.com/
  - User-Agent: Mozilla/5.0...
å‚æ•°:
  - t: æ—¶é—´æˆ³ï¼ˆé˜²ç¼“å­˜ï¼‰
è¿”å›: JavaScript å˜é‡èµ‹å€¼
  var newest = [æ•°æ®æ•°ç»„];
```

**å·®å¼‚åˆ†æ**ï¼š
- âœ… æ–°ç‰ˆæ¥å£æ›´ç®€å•ï¼Œæ— éœ€ app-id
- âœ… æ–°ç‰ˆæ¥å£æ›´ç¨³å®šï¼Œç½‘é¡µ JS æ–‡ä»¶å˜åŒ–é¢‘ç‡ä½
- âš ï¸ æ–°ç‰ˆæ¥å£éœ€è¦é¢å¤–è§£æ JavaScript ä»£ç 

---

### 2ï¸âƒ£ å‚æ•°æ”¯æŒ

#### æ™®é€šæ¥å£
```
è·¯å¾„: /jin10/:important?
å‚æ•°:
  - important: ä»»æ„å€¼å¼€å¯ï¼Œç•™ç©ºå…³é—­
  
ç¤ºä¾‹:
  /jin10          # æ‰€æœ‰å¿«è®¯
  /jin10/1        # åªçœ‹é‡è¦å¿«è®¯
```

#### æ–°ç‰ˆæ¥å£
```
è·¯å¾„: /jin10/newflash/:channel?/:type?/:important?
å‚æ•°:
  - channel: é¢‘é“åˆ†ç±» (1-5)
  - type: å†…å®¹ç±»å‹ (0=å¿«è®¯, 2=æ·±åº¦æ–‡ç« )
  - important: é‡è¦æ€§ (1=åªçœ‹é‡è¦)
  
ç¤ºä¾‹:
  /jin10/newflash              # æ‰€æœ‰å¿«è®¯
  /jin10/newflash/3            # å…¨çƒå¸‚åœº
  /jin10/newflash/4/0/1        # Aè‚¡é‡è¦å¿«è®¯
  /jin10/newflash//2           # æ‰€æœ‰æ·±åº¦æ–‡ç« 
  /jin10/newflash/1//1         # å¤–æ±‡é‡è¦å¿«è®¯
```

**å·®å¼‚åˆ†æ**ï¼š
- âœ… æ–°ç‰ˆæ”¯æŒå¤šç»´åº¦ç»„åˆç­›é€‰
- âœ… æ–°ç‰ˆå¯ç²¾ç¡®å®šä½ç”¨æˆ·éœ€æ±‚
- âœ… æ–°ç‰ˆæä¾›æ›´ç»†ç²’åº¦çš„è®¢é˜…é€‰é¡¹

---

### 3ï¸âƒ£ é¢‘é“åˆ†ç±»æ”¯æŒ

#### æ™®é€šæ¥å£
```
âŒ ä¸æ”¯æŒé¢‘é“åˆ†ç±»
æ‰€æœ‰é¢‘é“æ··åœ¨ä¸€èµ·æ˜¾ç¤º
```

#### æ–°ç‰ˆæ¥å£
```
âœ… æ”¯æŒ 5 ç§é¢‘é“åˆ†ç±»

const channelMap = {
    1: 'å¤–æ±‡/è´µé‡‘å±',
    2: 'æœŸè´§',
    3: 'å…¨çƒå¸‚åœº',
    4: 'Aè‚¡',
    5: 'æ·±åº¦æ–‡ç« '
};

å¯æ ¹æ® channel æ•°ç»„è¿‡æ»¤:
- item.channel = [3, 4] è¡¨ç¤ºè¯¥æ¡å¿«è®¯å±äº"å…¨çƒå¸‚åœº"å’Œ"Aè‚¡"
```

**å·®å¼‚åˆ†æ**ï¼š
- âœ… æ–°ç‰ˆé€‚åˆå‚ç›´é¢†åŸŸç”¨æˆ·ï¼ˆå¦‚åªå…³æ³¨ A è‚¡ï¼‰
- âœ… æ–°ç‰ˆå¯åˆ›å»ºå¤šä¸ªåˆ†ç±»è®¢é˜…æº
- âœ… æ–°ç‰ˆæä¾› category æ ‡ç­¾åˆ†ç±»

---

### 4ï¸âƒ£ å†…å®¹ç±»å‹æ”¯æŒ

#### æ™®é€šæ¥å£
```
âŒ ä¸åŒºåˆ†å¿«è®¯å’Œæ·±åº¦æ–‡ç« 
type å­—æ®µæœªåˆ©ç”¨
```

#### æ–°ç‰ˆæ¥å£
```
âœ… åŒºåˆ†å†…å®¹ç±»å‹

type å­—æ®µå«ä¹‰:
  - 0: æ™®é€šå¿«è®¯ï¼ˆçŸ­æ¶ˆæ¯ï¼‰
  - 2: æ·±åº¦æ–‡ç« ï¼ˆé•¿æ–‡åˆ†æï¼‰

è¿‡æ»¤é€»è¾‘:
if (typeFilter !== null) {
    filtered = filtered.filter(item => item.type === typeFilter);
}

æ ‡é¢˜æ˜¾ç¤º:
const typeLabel = item.type === 2 ? 'ã€æ·±åº¦ã€‘' : '';
```

**å·®å¼‚åˆ†æ**ï¼š
- âœ… æ–°ç‰ˆå¯å•ç‹¬è®¢é˜…æ·±åº¦æ–‡ç« 
- âœ… æ–°ç‰ˆæ ‡é¢˜æ˜ç¡®æ ‡è¯†å†…å®¹ç±»å‹
- âœ… æ–°ç‰ˆæ»¡è¶³ä¸åŒé˜…è¯»éœ€æ±‚

---

### 5ï¸âƒ£ æ•°æ®å­—æ®µåˆ©ç”¨

#### æ™®é€šæ¥å£ä½¿ç”¨çš„å­—æ®µ
```typescript
âœ… id              // å¿«è®¯ID
âœ… time            // å‘å¸ƒæ—¶é—´
âœ… data.content    // å†…å®¹
âœ… data.pic        // å›¾ç‰‡
âœ… important       // é‡è¦æ€§
âŒ type            // æœªä½¿ç”¨
âŒ channel         // æœªä½¿ç”¨
âŒ data.source     // æœªä½¿ç”¨
âŒ data.source_link // æœªä½¿ç”¨
âŒ remark          // æœªä½¿ç”¨
```

#### æ–°ç‰ˆæ¥å£ä½¿ç”¨çš„å­—æ®µ
```typescript
âœ… id              // å¿«è®¯ID
âœ… time            // å‘å¸ƒæ—¶é—´
âœ… type            // å†…å®¹ç±»å‹ï¼ˆå¿«è®¯/æ·±åº¦ï¼‰
âœ… important       // é‡è¦æ€§
âœ… channel         // é¢‘é“åˆ†ç±»æ•°ç»„
âœ… data.content    // å†…å®¹
âœ… data.pic        // å›¾ç‰‡
âœ… data.source     // æ¥æºï¼ˆä½œä¸º authorï¼‰
âœ… data.source_link // åŸæ–‡é“¾æ¥ï¼ˆä¼˜å…ˆä½¿ç”¨ï¼‰
âœ… remark          // é™„åŠ ä¿¡æ¯ï¼ˆå›¾è¡¨/é“¾æ¥/è¡Œæƒ…ï¼‰
```

**å­—æ®µåˆ©ç”¨ç‡**ï¼š
- æ™®é€šæ¥å£ï¼š**50%** (5/10)
- æ–°ç‰ˆæ¥å£ï¼š**100%** (10/10)

---

### 6ï¸âƒ£ æ¨¡æ¿åŠŸèƒ½å¯¹æ¯”

#### æ™®é€šæ¥å£æ¨¡æ¿ (`description.art`)
```art
{{ if content }}{{@ content }}{{ /if }}
{{ if pic }}<br><img src="{{ pic }}">{{ /if }}
```

åŠŸèƒ½ï¼š
- æ˜¾ç¤ºå†…å®¹
- æ˜¾ç¤ºå›¾ç‰‡

#### æ–°ç‰ˆæ¥å£æ¨¡æ¿ (`newflash.art`)
```art
{{ if content }}{{@ content }}{{ /if }}

{{ if pic }}
<br><br>
<img src="{{ pic }}" alt="é…å›¾" style="max-width: 100%;">
{{ /if }}

{{ if source_link }}
<br><br>
<p><a href="{{ source_link }}" target="_blank">ğŸ“– æŸ¥çœ‹åŸæ–‡</a></p>
{{ /if }}

{{ if remarks && remarks.length > 0 }}
<br><hr>
<div style="background: #f5f5f5; padding: 10px; margin-top: 10px;">
<strong>ğŸ“Š é™„åŠ ä¿¡æ¯ï¼š</strong>
{{ each remarks remark }}
    {{ if remark.type === 'link' }}
    <br>â€¢ <a href="{{ remark.data.url }}" target="_blank">{{ remark.data.title || 'ç›¸å…³é“¾æ¥' }}</a>
    {{ /if }}
    {{ if remark.type === 'miniProgram' }}
    <br>â€¢ ğŸ“ˆ {{ remark.data.title || 'æŸ¥çœ‹å›¾è¡¨' }}
    {{ /if }}
    {{ if remark.type === 'quotes' }}
    <br>â€¢ ğŸ’¹ è¡Œæƒ…æ•°æ®: {{ remark.data.name || '' }}
    {{ /if }}
    {{ if remark.type === 'content' }}
    <br>â€¢ {{ remark.data.content || remark.data.title || 'ç›¸å…³å†…å®¹' }}
    {{ /if }}
{{ /each }}
</div>
{{ /if }}
```

åŠŸèƒ½ï¼š
- âœ… æ˜¾ç¤ºå†…å®¹
- âœ… æ˜¾ç¤ºå›¾ç‰‡ï¼ˆå¸¦æ ·å¼ï¼‰
- âœ… **åŸæ–‡é“¾æ¥æŒ‰é’®**
- âœ… **é™„åŠ ä¿¡æ¯åŒºåŸŸ**
  - ç›¸å…³é“¾æ¥
  - å›¾è¡¨æ•°æ®
  - è¡Œæƒ…ä¿¡æ¯
  - æ‰©å±•å†…å®¹

**å·®å¼‚åˆ†æ**ï¼š
- âœ… æ–°ç‰ˆæä¾›å®Œæ•´çš„ä¿¡æ¯è·å–è·¯å¾„
- âœ… æ–°ç‰ˆæ˜¾ç¤ºæ›´å¤šä¸Šä¸‹æ–‡ä¿¡æ¯
- âœ… æ–°ç‰ˆè§†è§‰æ•ˆæœæ›´å¥½

---

### 7ï¸âƒ£ é“¾æ¥ç­–ç•¥

#### æ™®é€šæ¥å£
```typescript
link: `https://www.jin10.com/#${item.id}`
// å›ºå®šä½¿ç”¨é‡‘åç½‘ç«™é”šç‚¹é“¾æ¥
```

#### æ–°ç‰ˆæ¥å£
```typescript
// ä¼˜å…ˆä½¿ç”¨åŸæ–‡é“¾æ¥ï¼Œå›é€€åˆ°é‡‘åé”šç‚¹
const itemLink = item.data.source_link || `https://www.jin10.com/#${item.id}`;
```

**å·®å¼‚åˆ†æ**ï¼š
- âœ… æ–°ç‰ˆä¼˜å…ˆè·³è½¬åˆ°åŸå§‹æ–°é—»æº
- âœ… æ–°ç‰ˆæä¾›æ›´æƒå¨çš„ä¿¡æ¯æ¥æº
- âœ… æ–°ç‰ˆç”¨æˆ·ä½“éªŒæ›´å¥½

---

### 8ï¸âƒ£ æ ‡é¢˜ç­–ç•¥

#### æ™®é€šæ¥å£
```typescript
title: titleMatch[1] || item.data.content
// ç®€å•æå–æ ‡é¢˜
```

#### æ–°ç‰ˆæ¥å£
```typescript
// æ·»åŠ æ ‡ç­¾å‰ç¼€
const typeLabel = item.type === 2 ? 'ã€æ·±åº¦ã€‘' : '';
const importantLabel = item.important === 1 ? 'ã€é‡è¦ã€‘' : '';
title: `${importantLabel}${typeLabel}${title}`

// ç¤ºä¾‹è¾“å‡º:
// "ã€é‡è¦ã€‘ã€æ·±åº¦ã€‘ç¾è”å‚¨å®£å¸ƒé™æ¯50ä¸ªåŸºç‚¹"
// "ã€é‡è¦ã€‘ç¾è‚¡ä¸‰å¤§æŒ‡æ•°é›†ä½“æ”¶æ¶¨"
// "å¤®è¡Œå¼€å±•7å¤©æœŸé€†å›è´­æ“ä½œ"
```

**å·®å¼‚åˆ†æ**ï¼š
- âœ… æ–°ç‰ˆä¸€çœ¼è¯†åˆ«å†…å®¹ç±»å‹
- âœ… æ–°ç‰ˆä¾¿äºå¿«é€Ÿç­›é€‰
- âœ… æ–°ç‰ˆæ ‡é¢˜ä¿¡æ¯æ›´ä¸°å¯Œ

---

### 9ï¸âƒ£ ç¼“å­˜ç­–ç•¥

#### æ™®é€šæ¥å£
```typescript
cacheKey: 'jin10:index'
// æ‰€æœ‰è¯·æ±‚å…±äº«ä¸€ä¸ªç¼“å­˜
```

#### æ–°ç‰ˆæ¥å£
```typescript
// æ ¹æ®å‚æ•°ç»„åˆç”Ÿæˆç‹¬ç«‹ç¼“å­˜
cacheKey: `jin10:newflash:${channel || 'all'}:${type || 'all'}:${important || 'all'}`

// ç¤ºä¾‹:
// 'jin10:newflash:3:0:all'  - å…¨çƒå¸‚åœºæ™®é€šå¿«è®¯
// 'jin10:newflash:4:all:1'  - Aè‚¡é‡è¦å†…å®¹
// 'jin10:newflash:all:2:all' - æ‰€æœ‰æ·±åº¦æ–‡ç« 
```

**å·®å¼‚åˆ†æ**ï¼š
- âœ… æ–°ç‰ˆç¼“å­˜æ›´ç²¾ç»†
- âœ… æ–°ç‰ˆå‡å°‘ä¸å¿…è¦çš„è¿‡æ»¤è®¡ç®—
- âœ… æ–°ç‰ˆæ€§èƒ½æ›´ä¼˜

---

### ğŸ”Ÿ å…ƒæ•°æ®å¯¹æ¯”

#### æ™®é€šæ¥å£
```typescript
return {
    title: 'é‡‘åæ•°æ®',
    link: 'https://www.jin10.com/',
    item: items,
    // âŒ æ—  description
    // âŒ æ—  category
    // âŒ æ—  author
};
```

#### æ–°ç‰ˆæ¥å£
```typescript
// åŠ¨æ€ç”Ÿæˆæ ‡é¢˜
const titleParts = ['é‡‘åæ•°æ®'];
if (channelFilter) titleParts.push(channelMap[channelFilter]);
if (typeFilter === 0) titleParts.push('å¿«è®¯');
if (typeFilter === 2) titleParts.push('æ·±åº¦æ–‡ç« ');
if (importantFilter === 1) titleParts.push('é‡è¦');

return {
    title: titleParts.join(' - '),
    // ç¤ºä¾‹: "é‡‘åæ•°æ® - å…¨çƒå¸‚åœº - é‡è¦"
    link: 'https://www.jin10.com/',
    item: items,
    description: titleParts.slice(1).join(' ') || 'å®æ—¶å¿«è®¯',
    // æ¯ä¸ª item åŒ…å«:
    // - category: é¢‘é“æ ‡ç­¾æ•°ç»„
    // - author: æ¥æºåç§°
};
```

**å·®å¼‚åˆ†æ**ï¼š
- âœ… æ–°ç‰ˆ Feed æ ‡é¢˜æ›´å…·æè¿°æ€§
- âœ… æ–°ç‰ˆæä¾›åˆ†ç±»æ ‡ç­¾
- âœ… æ–°ç‰ˆæ˜¾ç¤ºä¿¡æ¯æ¥æº

---

## ä¸‰ã€ä½¿ç”¨åœºæ™¯æ¨è

### ğŸ¯ æ¨èä½¿ç”¨æ™®é€šæ¥å£çš„åœºæ™¯
1. âœ… éœ€è¦æ··åˆæŸ¥çœ‹æ‰€æœ‰é¢‘é“çš„å¿«è®¯
2. âœ… åªéœ€ç®€å•çš„é‡è¦æ€§è¿‡æ»¤
3. âœ… è¿½æ±‚æœ€ç®€å•çš„é…ç½®
4. âœ… å¯¹ API ç¨³å®šæ€§è¦æ±‚æé«˜ï¼ˆå®˜æ–¹ APIï¼‰

### ğŸ¯ æ¨èä½¿ç”¨æ–°ç‰ˆæ¥å£çš„åœºæ™¯
1. âœ… éœ€è¦æŒ‰é¢‘é“è®¢é˜…ï¼ˆå¦‚åªå…³æ³¨ A è‚¡ï¼‰
2. âœ… éœ€è¦åŒºåˆ†å¿«è®¯å’Œæ·±åº¦æ–‡ç« 
3. âœ… éœ€è¦æŸ¥çœ‹åŸæ–‡é“¾æ¥å’Œé™„åŠ ä¿¡æ¯
4. âœ… éœ€è¦ç»„åˆå¤šä¸ªç»´åº¦ç­›é€‰
5. âœ… éœ€è¦æ›´ä¸°å¯Œçš„å…ƒæ•°æ®ï¼ˆæ¥æºã€åˆ†ç±»ç­‰ï¼‰
6. âœ… è¿½æ±‚å®Œæ•´çš„ä¿¡æ¯è·å–ä½“éªŒ

---

## å››ã€è¿ç§»å»ºè®®

å¦‚æœæ‚¨å½“å‰ä½¿ç”¨æ™®é€šæ¥å£ï¼Œå¯ä»¥è¿™æ ·è¿ç§»ï¼š

| æ—§è·¯ç”± | æ–°è·¯ç”±ç­‰æ•ˆ | è¯´æ˜ |
|--------|------------|------|
| `/jin10` | `/jin10/newflash` | æ‰€æœ‰å¿«è®¯ |
| `/jin10/1` | `/jin10/newflash///1` | åªçœ‹é‡è¦ |

**æ–°å¢åŠŸèƒ½ç¤ºä¾‹**ï¼š
```
/jin10/newflash/4        # åªçœ‹ A è‚¡
/jin10/newflash/3/0/1    # å…¨çƒå¸‚åœºé‡è¦å¿«è®¯
/jin10/newflash//2       # æ‰€æœ‰æ·±åº¦æ–‡ç« 
/jin10/newflash/1        # å¤–æ±‡/è´µé‡‘å±æ‰€æœ‰å†…å®¹
```

---

## äº”ã€æ€»ç»“

### æ™®é€šæ¥å£ä¼˜åŠ¿
- ğŸ¯ ç®€å•ç›´æ¥
- ğŸ¯ å®˜æ–¹ APIï¼Œç¨³å®šæ€§é«˜
- ğŸ¯ é€‚åˆé€šç”¨åœºæ™¯

### æ–°ç‰ˆæ¥å£ä¼˜åŠ¿
- ğŸ¯ åŠŸèƒ½å®Œæ•´ï¼Œå­—æ®µåˆ©ç”¨ç‡ 100%
- ğŸ¯ å¤šç»´åº¦åˆ†ç±»ç­›é€‰
- ğŸ¯ å¢å¼ºçš„å†…å®¹å±•ç¤º
- ğŸ¯ æ›´å¥½çš„ç”¨æˆ·ä½“éªŒ
- ğŸ¯ é€‚åˆå‚ç›´é¢†åŸŸè®¢é˜…

### å»ºè®®
- **é€šç”¨ç”¨æˆ·**ï¼šä½¿ç”¨æ™®é€šæ¥å£ `/jin10`
- **ä¸“ä¸šç”¨æˆ·**ï¼šä½¿ç”¨æ–°ç‰ˆæ¥å£ `/jin10/newflash` + å‚æ•°ç»„åˆ
- **æœ€ä½³å®è·µ**ï¼šä¸¤è€…å…±å­˜ï¼Œæ»¡è¶³ä¸åŒç”¨æˆ·éœ€æ±‚
